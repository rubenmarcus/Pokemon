{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Pichau\\\\pokedex-api\\\\src\\\\components\\\\item-container\\\\ItemListContainer.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport ItemList from \"./ItemList\";\nimport Pagination from \"./Pagination\";\nimport NavBar from \"./NavBar\";\nimport axios from \"axios\";\nimport { Howl } from \"howler\";\nimport { ToastContainer, toast } from 'react-toastify';\nimport SoundSrc from \"../../assets/sounds/select.mp3\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ItemListContainer() {\n  _s();\n\n  const [pokemons, setPokemons] = useState([]);\n  const [pokemonsTypes, setPokemonsTypes] = useState([]);\n  const [loadPokemon] = useState(\"https://pokeapi.co/api/v2/pokemon?limit=460&offset=0\");\n  const [currentPage, setCurrentPage] = useState(1);\n  const [postsPerPage] = useState(12);\n  useEffect(() => {\n    const getAllPokemons = async e => {\n      try {\n        const res = await fetch(loadPokemon);\n        const data = await res.json();\n\n        function createPokemonObject(results) {\n          results.forEach(async pokemon => {\n            const res = await fetch(`https://pokeapi.co/api/v2/pokemon/${pokemon.name}`);\n            const data = await res.json();\n            setPokemons(list => [...list, data]);\n          });\n        }\n\n        createPokemonObject(data.results);\n        axios(`https://pokeapi.co/api/v2/type`).then(res => {\n          const {\n            data\n          } = res;\n          let resulta = data.results.map(a => a.name);\n          resulta.unshift(\"All Types\");\n          let removeType = resulta.indexOf(\"Shadow\");\n          resulta.splice(removeType, 1);\n          resulta.pop();\n          setPokemonsTypes(resulta);\n        });\n      } catch (error) {\n        toast.error(\"There was an error in loading the Pokemons\");\n      }\n    };\n\n    getAllPokemons();\n  }, []);\n  const [pokemonFilter, setPokeFilter] = useState(pokemons);\n  let currentPosts;\n  const indexOfLastPost = currentPage * postsPerPage;\n  const indexOfFirstPost = indexOfLastPost - postsPerPage;\n\n  if (pokemonFilter == !pokemons) {\n    pokemons.sort((a, b) => a.id > b.id ? 1 : -1);\n    currentPosts = pokemons.slice(indexOfFirstPost, indexOfLastPost);\n    pokemons.slice(indexOfFirstPost, indexOfLastPost);\n  } else {\n    pokemonFilter.sort((a, b) => a.id > b.id ? 1 : -1);\n    currentPosts = pokemonFilter.slice(indexOfFirstPost, indexOfLastPost);\n    pokemonFilter.slice(indexOfFirstPost, indexOfLastPost);\n  }\n\n  const searchFilterFunction = term => {\n    setPokeFilter(pokemons.filter(pokemon => pokemon.name.toLowerCase().includes(term.toLowerCase())));\n    const typeFilterReset = document.querySelector(\"#typeFilter\");\n    typeFilterReset.value = \"All Types\";\n    setCurrentPage(1);\n  };\n\n  const typeFilterFunction = term => {\n    setPokeFilter(pokemons.filter(pokemon => {\n      var _pokemon$types;\n\n      return (_pokemon$types = pokemon.types) === null || _pokemon$types === void 0 ? void 0 : _pokemon$types.map(t => t.type.name).includes(term.toLowerCase());\n    }));\n    const searchFilterReset = document.querySelector(\"#searchFilter\");\n    searchFilterReset.value = \"\";\n    setCurrentPage(1);\n  };\n\n  const callMySound = src => {\n    const sound = new Howl({\n      src,\n      html5: true\n    });\n    sound.play();\n  };\n\n  const paginate = pageNumber => {\n    setCurrentPage(pageNumber);\n    callMySound(SoundSrc);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"all-container\",\n      children: [/*#__PURE__*/_jsxDEV(NavBar, {\n        pokemonsTypes: pokemonsTypes,\n        typeFilterFunction: typeFilterFunction,\n        searchFilterFunction: searchFilterFunction\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ItemList, {\n        pokemon: currentPosts\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n        postsPerPage: postsPerPage,\n        totalPosts: pokemons.length,\n        paginate: paginate,\n        currentPage: currentPage,\n        setCurrentPage: setCurrentPage,\n        pokemonFilter: pokemonFilter\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ItemListContainer, \"/+W2fmav8z/QyiQ/qBCxEtbNAgY=\");\n\n_c = ItemListContainer;\nexport default ItemListContainer;\n\nvar _c;\n\n$RefreshReg$(_c, \"ItemListContainer\");","map":{"version":3,"names":["useEffect","useState","ItemList","Pagination","NavBar","axios","Howl","ToastContainer","toast","SoundSrc","ItemListContainer","pokemons","setPokemons","pokemonsTypes","setPokemonsTypes","loadPokemon","currentPage","setCurrentPage","postsPerPage","getAllPokemons","e","res","fetch","data","json","createPokemonObject","results","forEach","pokemon","name","list","then","resulta","map","a","unshift","removeType","indexOf","splice","pop","error","pokemonFilter","setPokeFilter","currentPosts","indexOfLastPost","indexOfFirstPost","sort","b","id","slice","searchFilterFunction","term","filter","toLowerCase","includes","typeFilterReset","document","querySelector","value","typeFilterFunction","types","t","type","searchFilterReset","callMySound","src","sound","html5","play","paginate","pageNumber","length"],"sources":["C:/Users/Pichau/pokedex-api/src/components/item-container/ItemListContainer.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport ItemList from \"./ItemList\";\r\nimport Pagination from \"./Pagination\";\r\nimport NavBar from \"./NavBar\";\r\nimport axios from \"axios\";\r\nimport { Howl } from \"howler\";\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport SoundSrc from \"../../assets/sounds/select.mp3\";\r\n\r\n\r\nfunction ItemListContainer() {\r\n  const [pokemons, setPokemons] = useState([]);\r\n  const [pokemonsTypes, setPokemonsTypes] = useState([]);\r\n\r\n  const [loadPokemon] = useState(\r\n    \"https://pokeapi.co/api/v2/pokemon?limit=460&offset=0\"\r\n  );\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [postsPerPage] = useState(12);\r\n\r\n  useEffect(() => {\r\n    const getAllPokemons = async (e) => {\r\n      try {\r\n        const res = await fetch(loadPokemon);\r\n        const data = await res.json();\r\n\r\n        function createPokemonObject(results) {\r\n          results.forEach(async (pokemon) => {\r\n            const res = await fetch(\r\n              `https://pokeapi.co/api/v2/pokemon/${pokemon.name}`\r\n            );\r\n            const data = await res.json();\r\n            setPokemons((list) => [...list, data]);\r\n          });\r\n        }\r\n        createPokemonObject(data.results);\r\n\r\n        axios(`https://pokeapi.co/api/v2/type`).then((res) => {\r\n          const { data } = res;\r\n\r\n          let resulta = data.results.map((a) => a.name);\r\n          resulta.unshift(\"All Types\");\r\n          let removeType = resulta.indexOf(\"Shadow\");\r\n          resulta.splice(removeType,1);\r\n          resulta.pop();\r\n          setPokemonsTypes(resulta);\r\n\r\n        });\r\n      } catch (error) {\r\n        toast.error(\"There was an error in loading the Pokemons\");\r\n      }\r\n    };\r\n    getAllPokemons();\r\n  }, []);\r\n\r\n  const [pokemonFilter, setPokeFilter] = useState(pokemons);\r\n  let currentPosts;\r\n  const indexOfLastPost = currentPage * postsPerPage;\r\n  const indexOfFirstPost = indexOfLastPost - postsPerPage;\r\n\r\n  if (pokemonFilter == !pokemons) {\r\n    pokemons.sort((a, b) => (a.id > b.id ? 1 : -1));\r\n    currentPosts = pokemons.slice(indexOfFirstPost, indexOfLastPost);\r\n    pokemons.slice(indexOfFirstPost, indexOfLastPost);\r\n  } else {\r\n    pokemonFilter.sort((a, b) => (a.id > b.id ? 1 : -1));\r\n    currentPosts = pokemonFilter.slice(indexOfFirstPost, indexOfLastPost);\r\n    pokemonFilter.slice(indexOfFirstPost, indexOfLastPost);\r\n  }\r\n\r\n  const searchFilterFunction = (term) => {\r\n    setPokeFilter(\r\n      pokemons.filter((pokemon) =>\r\n        pokemon.name.toLowerCase().includes(term.toLowerCase())\r\n      )\r\n    );\r\n    const typeFilterReset = document.querySelector(\"#typeFilter\");\r\n    typeFilterReset.value = \"All Types\";\r\n    setCurrentPage(1)\r\n  };\r\n\r\n  const typeFilterFunction = (term) => {\r\n    setPokeFilter(\r\n      pokemons.filter((pokemon) =>\r\n        pokemon.types?.map((t) => t.type.name).includes(term.toLowerCase())\r\n      )\r\n    );\r\n    const searchFilterReset = document.querySelector(\"#searchFilter\");\r\n    searchFilterReset.value = \"\";\r\n    setCurrentPage(1)\r\n  };\r\n\r\n  const callMySound = (src) => {\r\n    const sound = new Howl({\r\n      src,\r\n      html5: true,\r\n    });\r\n    sound.play();\r\n  };\r\n\r\n  const paginate = (pageNumber) => {\r\n  setCurrentPage(pageNumber);\r\n  callMySound(SoundSrc);\r\n}\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"all-container\">\r\n        <NavBar\r\n          pokemonsTypes={pokemonsTypes}\r\n          typeFilterFunction={typeFilterFunction}\r\n          searchFilterFunction={searchFilterFunction}\r\n        />\r\n\r\n        <ItemList pokemon={currentPosts} />\r\n\r\n        <Pagination\r\n          postsPerPage={postsPerPage}\r\n          totalPosts={pokemons.length}\r\n          paginate={paginate}\r\n          currentPage={currentPage}\r\n          setCurrentPage={setCurrentPage}\r\n          pokemonFilter={pokemonFilter}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default ItemListContainer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}